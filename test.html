<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="robots" content="noindex">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Webduino Smart</title>
  <script src="https://blocklypro.webduino.io/components/jquery/dist/jquery.min.js"></script>
  <script src="https://blocklypro.webduino.io/dist/lib/webduino-all-0.4.20.min.js"></script>
  <script src="https://blocklypro.webduino.io/dist/webduino-blockly.min.js"></script>
  <script src="https://blocklypro.webduino.io/dist/lib/firebase.min.js"></script>
  <script src="https://blocklypro.webduino.io/dist/lib/runtime.min.js"></script>
<style id="jsbin-css">
#demo-area-01-show { font-size: 20px; pointer-events: auto!important; }
</style>
</head>
<body>
<div><span id="demo-area-01-show" style="color:red;font-weight:bold"></span></div>
<input type="text" name="state" id="state">

</body>
</html>

<script id="jsbin-javascript">
(async function () {
  var strUrl=location.search;
  if (strUrl.indexOf("?")!=-1) {
    var getdevice = strUrl.split("?")[1].split("&")[0];
    var fuTimer = setInterval(async function(){
        document.getElementById("state").value = 0;
        boardReady({board: 'Smart', device: getdevice, transport: 'mqtt'},async function (board) {
            board.samplingInterval = 50;
            document.getElementById("state").value = 1;
            document.getElementById("demo-area-01-show").innerHTML = "Board is connected";
         });
        await delay(4);
        if (document.getElementById("state").value ==0)
          document.getElementById("demo-area-01-show").innerHTML = "Board isn't connected";
    },5000);
  }
}());
</script>
