<html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Web:Bit</title>
  <script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-11V1FDRMZ3&amp;l=dataLayer&amp;cx=c"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-62202920-13"></script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-11V1FDRMZ3"></script>
  <script src="https://webbit.webduino.io/blockly/dist/google-gtag.min.js"></script>
  <link rel="stylesheet" href="https://webbit.webduino.io/blockly/components/jquery-ui/themes/base/jquery-ui.min.css">
  <script src="https://webbit.webduino.io/blockly/components/jquery/dist/jquery.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/lib/webduino-all.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/webduino-js-plugin/BitIRled.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/webduino-js-plugin/BitIRRecv.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/edu.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/edu-mpu9250.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/edu-blockly.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/MessageTransport.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/WebSerial.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/WebSerialTransport.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/Bit.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/webduino-blockly.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/lib/firebase.min.js"></script>
  <script src="https://webbit.webduino.io/blockly/dist/lib/runtime.min.js"></script>
  <link rel="stylesheet" href="https://webbit.webduino.io/blockly/dist/css/main.css">
  <link rel="stylesheet" href="https://webbit.webduino.io/blockly/dist/css/english.css"><script src="https://fustyles.github.io/webduino/holistic_20201012/holistic_video.js"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/holistic@0.4/holistic.js" crossorigin="anonymous"></script></head><body><div id="region_holistic" style="z-index: 999; opacity: 1;"><video id="gamevideo_holistic" width="320" height="240" style="position: absolute; visibility: hidden; width: 320px; height: 240px;" preload="" autoplay="" loop="" muted=""></video><img id="gameimage_holistic" style="position:absolute;visibility:hidden;" crossorigin="anonymous"><canvas id="gamecanvas_holistic" style="position: absolute; display: none; width: 320px; height: 240px;" width="320" height="240"></canvas><canvas id="gamecanvas_canvasElement" style="position: absolute; display: block; width: 320px; height: 240px;" width="320" height="240"></canvas><br><select id="face_holistic" style="position:absolute;visibility:hidden;"><option value="1">Y</option><option value="0">N</option></select><select id="pose_holistic" style="position:absolute;visibility:hidden;"><option value="1">Y</option><option value="0">N</option></select><select id="lefthand_holistic" style="position:absolute;visibility:hidden;"><option value="1">Y</option><option value="0">N</option></select><select id="righthand_holistic" style="position:absolute;visibility:hidden;"><option value="1">Y</option><option value="0">N</option></select><select id="mirrorimage_holistic" style="position:absolute;visibility:hidden;"><option value="1">Y</option><option value="0">N</option></select><select id="scorelimit_holistic" style="position:absolute;visibility:hidden;"><option value="0">0</option><option value="0.1" selected="">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5" selected="">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option></select><br></div><div id="holisticState" style="position:absolute;display:none;">1</div><div id="sourceId_holistic" style="position:absolute;display:none;">gamevideo_holistic</div><div id="gamediv_face_holistic" style="position:absolute;display:none;"></div><div id="gamediv_pose_holistic" style="position:absolute;display:none;"></div><div id="gamediv_lefthand_holistic" style="position:absolute;display:none;"></div><div id="gamediv_righthand_holistic" style="position:absolute;display:none;"></div><script src="https://fustyles.github.io/webduino/holistic_20201012/holistic.js"></script>



  <div id="bg"></div>
  <div id="userHtml"></div>
  <span id="reset">↻</span>
  <div id="youtube-container">
    <div id="player"></div>
  </div>
  <div id="recordingArea">
    <svg version="1.1" id="mic_icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 23" width="26px" height="36px" xml:space="preserve">
      <path id="mic" d="M5,10.8V4.6C5,2.1,7,0,9.5,0c2.5,0,4.6,2.1,4.6,4.6v6.3c0,2.5-2.1,4.6-4.6,4.6C7,15.4,5,13.3,5,10.8z M17.3,10.4
   c0-0.4-0.3-0.8-0.8-0.8s-0.8,0.3-0.8,0.8c0,3.4-2.8,6.2-6.2,6.2s-6.2-2.8-6.2-6.2C3.3,10,3,9.7,2.5,9.7S1.8,10,1.8,10.4
   c0,4,3.1,7.3,7,7.7v1.7H5.4c-0.4,0-0.8,0.3-0.8,0.8s0.3,0.8,0.8,0.8h8.2c0.4,0,0.8-0.3,0.8-0.8s-0.3-0.8-0.8-0.8h-3.4v-1.7
   C14.2,17.7,17.3,14.4,17.3,10.4z"></path>
      <g id="mic_stop">
        <path class="st1" d="M2,20.3c-0.2,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.3L17.7,2.3c0.4-0.4,1-0.4,1.3,0c0.4,0.4,0.4,1,0,1.3L2.6,20
     C2.4,20.2,2.2,20.3,2,20.3z"></path>
        <path class="st2" d="M18.3,2c0.2,0,0.5,0.1,0.7,0.3c0.4,0.4,0.4,1,0,1.3L2.6,20c-0.2,0.2-0.4,0.3-0.7,0.3c-0.2,0-0.5-0.1-0.7-0.3
     c-0.4-0.4-0.4-1,0-1.3L17.7,2.3C17.8,2.1,18.1,2,18.3,2 M18.3,1c-0.5,0-1,0.2-1.4,0.6L0.6,17.9C0.2,18.3,0,18.8,0,19.3
     s0.2,1,0.6,1.4c0.4,0.4,0.9,0.6,1.4,0.6c0.5,0,1-0.2,1.4-0.6L19.7,4.3C20.1,4,20.3,3.5,20.3,3s-0.2-1-0.6-1.4
     C19.3,1.2,18.8,1,18.3,1L18.3,1z"></path>
      </g>
    </svg>
  </div>
  <div id="tracker-container" hidden="">
    <div id="tracker-wrap">
      <video id="trackingVideo" width="320" height="240" preload="" autoplay="" loop="" muted="" controls=""></video>
      <canvas id="trackingCanvas" width="320" height="240"></canvas>
      <canvas id="trackingCanvasColor" width="320" height="240"></canvas>
    </div>
  </div>
  <div id="videoDetect-container">
    <div id="videoDetect-wrap">
      <canvas id="videoDetectCanvas" width="320" height="240"></canvas>
    </div>
  </div>

  <!-- 影像辨識區 -->
  <div id="image-classifier-container">

  </div>

  <!-- 英語會話區 -->
  <div id="edu_English" hidden="">
    <div class="overlay hidden">
      點擊後執行
    </div>

    <!-- 標題 title -->
    <h3 id="edu_title"><b>In the Cabin</b><i></i></h3>

    <!-- 角色位置由 class 決定，如果沒有位置 class 則自動隱藏，加上 computer 表示電腦正在發音朗讀 -->
    <div id="edu_01" class="character hidden top left computer">
      <!-- 圖片比例為 寬:長 = 2:3 -->
      <img>
      <!-- 講話訊息，class 為 hidden 會隱藏 -->
      <i class="msg">
        <i class="name">
          <b>Marty</b>
          <img class="c-icon repeat-btn" src="media/icon-speaker.png">
          <em class="c">電腦發音</em>
          <img class="u-icon" src="media/icon-microphone.png">
          <em class="u">換你朗讀</em>
          <em class="pass"><a>( 跳過 )</a></em>
        </i>
        <i class="text">Welcome abroad. May I see your boarding pass?</i>
      </i>
    </div>
    <!-- 加上 user 選項表示由使用者講 -->
    <div id="edu_02" class="character hidden bottom right user">
      <img>
      <i class="msg">
          <i class="name">
            <b>Sheng</b>
            <img class="c-icon repeat-btn" src="media/icon-speaker.png">
            <em class="c">電腦發音</em>
            <img class="u-icon" src="media/icon-microphone.png">
            <em class="u">換你朗讀</em>
            <em class="pass"><a>( 跳過 )</a></em>
          </i>
          <i class="text">Here <b>you</b> are.</i>  <!-- 如果有錯誤，加上 b tag 表現 -->
      </i>
    </div>
    <div id="edu_03" class="character hidden top right">
      <img>
      <i class="msg">
          <i class="name">
            <b>Seven</b>
            <img class="c-icon repeat-btn" src="media/icon-speaker.png">
            <em class="c">電腦發音</em>
            <img class="u-icon" src="media/icon-microphone.png">
            <em class="u">換你朗讀</em>
            <em class="pass"><a>( 跳過 )</a></em>
          </i>
          <i class="text">You are in seat 18A. </i>
      </i>
    </div>
    <div id="edu_04" class="character hidden bottom left">
      <img>
      <i class="msg">
          <i class="name">
            <b>OXXO</b>
            <img class="c-icon repeat-btn" src="media/icon-speaker.png">
            <em class="c">電腦發音</em>
            <img class="u-icon" src="media/icon-microphone.png">
            <em class="u">換你朗讀</em>
            <em class="pass"><a>( 跳過 )</a></em>
          </i>
          <i class="text">Thank you.</i>
      </i>
    </div>
    <!-- 提示訊息，class 為 hidden 會隱藏 -->
    <h3 id="edu_notify" class="hidden">
      <i>全對啦！好棒棒！</i>     <!-- 提示訊息放這邊 -->
      <a class="retry hidden">重試</a> <!-- 加上 hidden 就會隱藏 -->
      <a class="pass hidden">略過</a>  <!-- 加上 hidden 就會隱藏 -->
    </h3>
    <img src="#" class="bg">

    <!-- 過關畫面 -->
    <div id="passPicture" class="pass-bg hidden">
      <img src="media/congratulations.jpg">
    </div>

    <!-- 提示音效 -->
    <audio id="hintSound" src="custom-blocks/english-conversation/hintSound.mp3"></audio>
    <audio id="passSound" src="custom-blocks/english-conversation/pass.mp3"></audio>
    <audio id="computerAudio" src="custom-blocks/english-conversation/hintSound.mp3"></audio>
  </div>

  <!-- google 簡報積木 -->
  <div id="google_slides_container" hidden=""></div>

  <!-- 小怪獸互動區 -->
  <div id="inputArea">
    <input id="input" autocomplete="off" autofocus=""><span id="send">✔</span>
  </div>
  <div id="demoMonster01" class="monster" style="left: 10px; bottom: 25px; width: 90px; height: 90px; z-index: 10; display: block;">
    <span class="talk"></span>
    <div class="m-img" attr-emotion="0" style="transform: rotate(0deg);"></div>
  </div>
  <div id="demoMonster02" class="monster" style="left: 135px; bottom: 25px; width: 90px; height: 90px; z-index: 12; display: block;">
    <span class="talk"></span>
    <div class="m-img" attr-emotion="0" style="transform: rotate(0deg);"></div>
  </div>
  <div id="demoMonster03" class="monster" style="left: 260px; bottom: 25px; width: 90px; height: 90px; z-index: 10; display: block;">
    <span class="talk"></span>
    <div class="m-img" attr-emotion="0" style="transform: rotate(0deg);"></div>
  </div>
  <div id="demoMonster04" class="monster" style="left: 390px; bottom: 25px; width: 90px; height: 90px; z-index: 10; display: block;">
    <span class="talk"></span>
    <div class="m-img" attr-emotion="0" style="transform: rotate(0deg);"></div>
  </div>

  <!-- 內建音效 -->
  <div id="sound01" style="display:none;">
    <audio data-src="media/sound/cat-01.mp3" class="sound cat-01"></audio>
    <audio data-src="media/sound/dog-01.mp3" class="sound dog-01"></audio>
    <audio data-src="media/sound/crow-01.mp3" class="sound crow-01"></audio>
    <audio data-src="media/sound/elephant-01.mp3" class="sound elephant-01"></audio>
    <audio data-src="media/sound/frog-01.mp3" class="sound frog-01"></audio>
    <audio data-src="media/sound/lion-01.mp3" class="sound lion-01"></audio>
    <audio data-src="media/sound/goat-01.mp3" class="sound goat-01"></audio>
    <audio data-src="media/sound/chicken-01.mp3" class="sound chicken-01"></audio>
    <audio data-src="media/sound/chicken-02.mp3" class="sound chicken-02"></audio>
    <audio data-src="media/sound/monkey-01.mp3" class="sound monkey-01"></audio>
    <audio data-src="media/sound/duck-01.mp3" class="sound duck-01"></audio>
    <audio data-src="media/sound/mouse-01.mp3" class="sound mouse-01"></audio>
    <audio data-src="media/sound/pig-01.mp3" class="sound pig-01"></audio>
  </div>
  <div id="sound02" style="display:none;">
    <audio data-src="media/sound/sneeze-01.mp3" class="sound sneeze-01"></audio>
    <audio data-src="media/sound/laugth-01.mp3" class="sound laugth-01"></audio>
    <audio data-src="media/sound/cough-01.mp3" class="sound cough-01"></audio>
    <audio data-src="media/sound/kiss-01.mp3" class="sound kiss-01"></audio>
    <audio data-src="media/sound/applaud-01.mp3" class="sound applaud-01"></audio>
    <audio data-src="media/sound/cry-01.mp3" class="sound cry-01"></audio>
    <audio data-src="media/sound/snoring-01.mp3" class="sound snoring-01"></audio>
    <audio data-src="media/sound/fart-01.mp3" class="sound fart-01"></audio>
    <audio data-src="media/sound/whistle-01.mp3" class="sound whistle-01"></audio>
    <audio data-src="media/sound/snore-01.mp3" class="sound snore-01"></audio>
    <audio data-src="media/sound/sigh-01.mp3" class="sound sigh-01"></audio>
    <audio data-src="media/sound/sigh-02.mp3" class="sound sigh-02"></audio>
  </div>

  <div id="sound03" style="display:none;">
    <audio data-src="media/sound/sound-01.mp3" class="sound sound-01"></audio>
    <audio data-src="media/sound/sound-02.mp3" class="sound sound-02"></audio>
    <audio data-src="media/sound/sound-03.mp3" class="sound sound-03"></audio>
    <audio data-src="media/sound/sound-04.mp3" class="sound sound-04"></audio>
    <audio data-src="media/sound/sound-05.mp3" class="sound sound-05"></audio>
    <audio data-src="media/sound/sound-06.mp3" class="sound sound-06"></audio>
    <audio data-src="media/sound/sound-07.mp3" class="sound sound-07"></audio>
    <audio data-src="media/sound/sound-08.mp3" class="sound sound-08"></audio>
    <audio data-src="media/sound/sound-09.mp3" class="sound sound-09"></audio>
    <audio data-src="media/sound/sound-10.mp3" class="sound sound-10"></audio>
    <audio data-src="media/sound/sound-11.mp3" class="sound sound-11"></audio>
    <audio data-src="media/sound/coin-01.mp3" class="sound coin-01"></audio>
    <audio data-src="media/sound/jump-01.mp3" class="sound jump-01"></audio>
    <audio data-src="media/sound/death-01.mp3" class="sound death-01"></audio>
    <audio data-src="media/sound/bell-01.mp3" class="sound bell-01"></audio>
  </div>

  <script src="https://webbit.webduino.io/blockly/dist/template/main.min.js"></script>

  <script>
'use strict';

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } step("next"); }); }; }

_asyncToGenerator(regeneratorRuntime.mark(function _callee3() {
  var query_last, _E5_B7_A6_E6_89_8B_E8_85_95x, _E5_B7_A6_E6_89_8B_E8_85_95y, _E5_8F_B3_E6_89_8B_E8_85_95x, _E5_8F_B3_E6_89_8B_E8_85_95y, _E9_BC_BB_E5_AD_90x, _E9_BC_BB_E5_AD_90y, _E5_8F_B3_E8_82_A9_E8_86_80x, _E5_8F_B3_E8_82_A9_E8_86_80y, _E5_B7_A6_E8_82_A9_E8_86_80x, _E5_B7_A6_E8_82_A9_E8_86_80y, _E5_85_A9_E6_89_8B_E8_85_95_E9_80_A3_E7_B7_9A_E8_A7_92_E5_BA_A6;

  return regeneratorRuntime.wrap(function _callee3$(_context3) {
    while (1) {
      switch (_context3.prev = _context3.next) {
        case 0:

          boardReady({ board: 'Bit', device: 'Webduino Bit', multi: true, transport: 'message', window: window.top.frames[0] }, (function () {
            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(board) {
              return regeneratorRuntime.wrap(function _callee2$(_context2) {
                while (1) {
                  switch (_context2.prev = _context2.next) {
                    case 0:
                      _context2.next = 2;
                      return boardInit_(board, 100, 0);

                    case 2:
                      window._board_ = _context2.sent;

                      holistic_video("block", "0", "1", "0", "0", "0", "1");
                      holistic_startvideo_media(320, 240, "front", 0);
                      query_last = '';
                      holistic_recognitionFinish = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                          while (1) {
                            switch (_context.prev = _context.next) {
                              case 0:
                                holistic_state(0);
                                _E5_B7_A6_E6_89_8B_E8_85_95x = holistic_pose_position("15", "x");
                                _E5_B7_A6_E6_89_8B_E8_85_95y = holistic_pose_position("15", "y");
                                _E5_8F_B3_E6_89_8B_E8_85_95x = holistic_pose_position("16", "x");
                                _E5_8F_B3_E6_89_8B_E8_85_95y = holistic_pose_position("16", "y");
                                _E9_BC_BB_E5_AD_90x = holistic_pose_position("0", "x");
                                _E9_BC_BB_E5_AD_90y = holistic_pose_position("0", "y");
                                _E5_8F_B3_E8_82_A9_E8_86_80x = holistic_pose_position("12", "x");
                                _E5_8F_B3_E8_82_A9_E8_86_80y = holistic_pose_position("12", "y");
                                _E5_B7_A6_E8_82_A9_E8_86_80x = holistic_pose_position("11", "x");
                                _E5_B7_A6_E8_82_A9_E8_86_80y = holistic_pose_position("11", "y");
                                _E5_85_A9_E6_89_8B_E8_85_95_E9_80_A3_E7_B7_9A_E8_A7_92_E5_BA_A6 = holistic_angle(_E5_B7_A6_E6_89_8B_E8_85_95x, _E5_B7_A6_E6_89_8B_E8_85_95y, _E5_8F_B3_E6_89_8B_E8_85_95y, _E5_8F_B3_E6_89_8B_E8_85_95x);
                                if (_E5_85_A9_E6_89_8B_E8_85_95_E9_80_A3_E7_B7_9A_E8_A7_92_E5_BA_A6) {
                                  $demoMonster03.talk(_E5_85_A9_E6_89_8B_E8_85_95_E9_80_A3_E7_B7_9A_E8_A7_92_E5_BA_A6);
                                  if (_E5_85_A9_E6_89_8B_E8_85_95_E9_80_A3_E7_B7_9A_E8_A7_92_E5_BA_A6 <= 60 && _E5_85_A9_E6_89_8B_E8_85_95_E9_80_A3_E7_B7_9A_E8_A7_92_E5_BA_A6 >= 20 && _E5_B7_A6_E6_89_8B_E8_85_95x > _E9_BC_BB_E5_AD_90x && _E5_B7_A6_E6_89_8B_E8_85_95y > _E9_BC_BB_E5_AD_90y && _E5_8F_B3_E6_89_8B_E8_85_95x < _E9_BC_BB_E5_AD_90x && _E5_8F_B3_E6_89_8B_E8_85_95y < _E9_BC_BB_E5_AD_90y && (_E5_B7_A6_E6_89_8B_E8_85_95y - _E5_B7_A6_E8_82_A9_E8_86_80y) / (_E5_B7_A6_E8_82_A9_E8_86_80y - _E9_BC_BB_E5_AD_90y) >= -0.5 && (_E5_B7_A6_E6_89_8B_E8_85_95y - _E5_B7_A6_E8_82_A9_E8_86_80y) / (_E5_B7_A6_E8_82_A9_E8_86_80y - _E9_BC_BB_E5_AD_90y) <= 1) {
                                    _board_._bit_matrix_.setColor('#ff0000');
                                    $demoMonster01.talk('開燈');
                                  } else if (_E5_8F_B3_E6_89_8B_E8_85_95y < _E9_BC_BB_E5_AD_90y && _E5_B7_A6_E6_89_8B_E8_85_95y < _E9_BC_BB_E5_AD_90y) {
                                    _board_._bit_matrix_.off();
                                    $demoMonster01.talk('關燈');
                                  }
                                }

                                holistic_state(1);
                              case 14:
                              case 'end':
                                return _context.stop();
                            }
                          }
                        }, _callee, this);
                      }));

                    case 7:
                    case 'end':
                      return _context2.stop();
                  }
                }
              }, _callee2, this);
            }));

            return function (_x) {
              return ref.apply(this, arguments);
            };
          })());

        case 1:
        case 'end':
          return _context3.stop();
      }
    }
  }, _callee3, this);
}))();
</script>


<script src="https://cdn.jsdelivr.net/npm/@mediapipe/holistic/holistic_solution_packed_assets_loader.js" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/holistic/holistic_solution_simd_wasm_bin.js" crossorigin="anonymous"></script></body></html>